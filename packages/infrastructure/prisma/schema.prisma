datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator db {
  provider = "go run github.com/steebchen/prisma-client-go"
}

model owner {
  id     String   @unique
  circle circle[]
}

model circle {
  id          String  @unique
  owner_id    String
  path_digest Bytes   @unique @db.ByteA
  name        String
  owner       owner   @relation(fields: [owner_id], references: [id], onDelete: Cascade)
  event       event[]

  @@unique([owner_id, name])
}

model event {
  id          String @unique
  circle_id   String
  path_digest Bytes  @unique @db.ByteA
  name        String
  circle      circle @relation(fields: [circle_id], references: [id], onDelete: Cascade)
}
